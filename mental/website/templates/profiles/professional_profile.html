{% extends 'base.html' %}

{% block content %}
<div class="professional-edit-container">
    <h1 class="edit-title">Edit Professional Profile</h1>
    
    {% if not profile_complete %}
    <div class="alert alert-warning">
        Complete all required fields to make your profile visible to clients
    </div>
    {% endif %}

    <form method="post" enctype="multipart/form-data" class="profile-edit-form">
        {% csrf_token %}
        
        <!-- Personal Information Section -->
        <section class="form-section">
            <h2 class="section-title">Personal Information</h2>
            
            <div class="form-row">
                <div class="form-group">
                    {{ form.first_name.label_tag }}
                    {{ form.first_name }}
                    {{ form.first_name.errors }}
                </div>
                <div class="form-group">
                    {{ form.last_name.label_tag }}
                    {{ form.last_name }}
                    {{ form.last_name.errors }}
                </div>
            </div>
            
            <div class="form-group">
                {{ form.profile_picture.label_tag }}
                {{ form.profile_picture }}
                {% if professional.profile_picture %}
                <div class="current-image">
                    <span>Current:</span>
                    <img src="{{ professional.profile_picture.url }}" width="100">
                </div>
                {% endif %}
                {{ form.profile_picture.errors }}
            </div>
            
            <div class="form-group">
                {{ form.bio.label_tag }}
                {{ form.bio }}
                <small class="form-text">Tell clients about your background and approach</small>
                {{ form.bio.errors }}
            </div>
        </section>

        <!-- Professional Details Section -->
        <section class="form-section">
            <h2 class="section-title">Professional Details</h2>
            
            <div class="form-row">
                <div class="form-group">
                    {{ form.profession.label_tag }}
                    {{ form.profession }}
                    {{ form.profession.errors }}
                </div>
                <div class="form-group">
                    {{ form.years_of_experience.label_tag }}
                    {{ form.years_of_experience }}
                    {{ form.years_of_experience.errors }}
                </div>
            </div>
            
            <div class="form-group">
                {{ form.therapeutic_approaches.label_tag }}
                {{ form.therapeutic_approaches }}
                {{ form.therapeutic_approaches.errors }}
            </div>
            
            <div class="form-group">
                {{ form.areas_of_focus.label_tag }}
                {{ form.areas_of_focus }}
                {{ form.areas_of_focus.errors }}
            </div>
            
            <div class="form-group">
                {{ form.qualifications.label_tag }}
                {{ form.qualifications }}
                {{ form.qualifications.errors }}
            </div>
        </section>

        <!-- Session Information Section -->
        <section class="form-section">
            <h2 class="section-title">Session Information</h2>
            
            <div class="form-row">
                <div class="form-group">
                    {{ form.session_format.label_tag }}
                    {{ form.session_format }}
                    {{ form.session_format.errors }}
                </div>
                <div class="form-group">
                    {{ form.session_fee.label_tag }}
                    {{ form.session_fee }}
                    {{ form.session_fee.errors }}
                </div>
            </div>
            
            <div class="form-group">
                {{ form.availability.label_tag }}
                {{ form.availability }}
                {{ form.availability.errors }}
            </div>
        </section>

        <div class="form-actions">
            <button type="submit" class="btn btn-save">
                <i class="fas fa-save"></i> Save Profile
            </button>
            <a href="{% url 'profile_preview' %}" class="btn btn-preview">
                <i class="fas fa-eye"></i> Preview
            </a>
        </div>
    </form>
</div>
{% endblock %}
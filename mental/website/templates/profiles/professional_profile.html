{% extends 'base.html' %}

{% block content %}
<div class="professional-edit-container">
    <h1 class="edit-title">Edit Professional Profile</h1>
    
    {% if not profile_complete %}
    <div class="alert alert-warning">
        Complete all required fields to make your profile visible to clients
    </div>
    {% endif %}

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
    
        <!-- User Information -->
        <div class="form-row">
            <div class="form-group">
                {{ form.first_name.label_tag }} {{ form.first_name }}
            </div>
            <div class="form-group">
                {{ form.last_name.label_tag }} {{ form.last_name }}
            </div>
            <div class="form-group">
                {{ form.email.label_tag }} {{ form.email }}
            </div>
        </div>
    
        <!-- Professional Details -->
        <div class="form-row">
            <div class="form-group">
                {{ form.profession.label_tag }} {{ form.profession }}
            </div>
            <div class="form-group">
                {{ form.license_number.label_tag }} {{ form.license_number }}
            </div>
            <div class="form-group">
                {{ form.license_state.label_tag }} {{ form.license_state }}
            </div>
        </div>
    
        <!-- Therapeutic Approaches -->
        <div class="form-row">
            <div class="form-group">
                {{ form.therapeutic_approaches.label_tag }}
                {{ form.therapeutic_approaches }}
            </div>
        </div>
    
        <!-- Biography and Experience -->
        <div class="form-row">
            <div class="form-group">
                {{ form.bio.label_tag }} {{ form.bio }}
            </div>
            <div class="form-group">
                {{ form.years_of_experience.label_tag }} {{ form.years_of_experience }}
            </div>
            <div class="form-group">
                {{ form.qualifications.label_tag }} {{ form.qualifications }}
            </div>
            <div class="form-group">
                {{ form.areas_of_focus.label_tag }} {{ form.areas_of_focus }}
            </div>
        </div>
    
        <!-- Practice Information -->
        <div class="form-row">
            <div class="form-group">
                {{ form.practice_name.label_tag }} {{ form.practice_name }}
            </div>
            <div class="form-group">
                {{ form.website.label_tag }} {{ form.website }}
            </div>
            <div class="form-group">
                {{ form.accepts_insurance.label_tag }} {{ form.accepts_insurance }}
            </div>
            <div class="form-group">
                {{ form.sliding_scale.label_tag }} {{ form.sliding_scale }}
            </div>
        </div>
    
        <!-- Contact Details -->
        <div class="form-row">
            <div class="form-group">
                {{ form.phone.label_tag }} {{ form.phone }}
            </div>
            <div class="form-group">
                {{ form.emergency_contact.label_tag }} {{ form.emergency_contact }}
            </div>
            <div class="form-group">
                {{ form.address.label_tag }} {{ form.address }}
            </div>
            <div class="form-group">
                {{ form.city.label_tag }} {{ form.city }}
            </div>
            <div class="form-group">
                {{ form.state.label_tag }} {{ form.state }}
            </div>
            <div class="form-group">
                {{ form.country.label_tag }} {{ form.country }}
            </div>
            <div class="form-group">
                {{ form.postal_code.label_tag }} {{ form.postal_code }}
            </div>
        </div>
    
        <!-- Session Details -->
        <div class="form-row">
            <div class="form-group">
                {{ form.session_format.label_tag }} {{ form.session_format }}
            </div>
            <div class="form-group">
                {{ form.session_length.label_tag }} {{ form.session_length }}
            </div>
            <div class="form-group">
                {{ form.session_fee.label_tag }} {{ form.session_fee }}
            </div>
        </div>
    
        <!-- Availability and Crisis Protocol -->
        <div class="form-row">
            <div class="form-group">
                {{ form.availability.label_tag }} {{ form.availability }}
            </div>
            <div class="form-group">
                {{ form.crisis_protocol.label_tag }} {{ form.crisis_protocol }}
            </div>
        </div>
    
        <!-- Uploads -->
        <div class="form-row">
            <div class="form-group">
                {{ form.profile_picture.label_tag }} {{ form.profile_picture }}
            </div>
            <div class="form-group">
                {{ form.license_verification.label_tag }} {{ form.license_verification }}
            </div>
        </div>
    
        <!-- Submit Button -->
        <div class="form-row">
            <div class="form-group">
                <button type="submit" class="btn btn-primary">Save Profile</button>
            </div>
        </div>
    
        <!-- Error Messages -->
        {% if form.errors %}
        <div class="form-errors">
            <p><strong>Please correct the following errors:</strong></p>
            <ul>
                {% for field in form %}
                    {% for error in field.errors %}
                        <li>{{ field.label }}: {{ error }}</li>
                    {% endfor %}
                {% endfor %}
            </ul>
        </div>
        {% endif %}
    </form>
    
</div>
{% endblock %}